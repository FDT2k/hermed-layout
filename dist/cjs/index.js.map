{"version":3,"file":"index.js","sources":["../../src/components/Chat/index.js","../../node_modules/@geekagency/gen-classes/dist/cjs/index.js","../../src/components/Button/index.js","../../src/components/CustomerLanding/index.js","../../src/components/ChatBubble/index.js","../../src/components/WaitingRoom/index.js","../../src/components/Patient/index.js","../../src/components/Form/index.js","../../src/components/Input/index.js"],"sourcesContent":["\r\nimport React,{useEffect,useRef,useState} from 'react'\r\n\r\n\r\n// autoScroll\r\n\r\n\r\nexport default props => {\r\n  const {who, autoscroll} = props;\r\n  const [shouldAutoscroll, setShouldAutoscroll] = useState(true)\r\n  const chatRef = useRef();\r\n\r\n  const holdScroll = ()=>{\r\n    setShouldAutoscroll(false)\r\n  }\r\n  const releaseScroll = ()=>{\r\n    setShouldAutoscroll(true)\r\n  }\r\n\r\n  useEffect(()=>{\r\n    if(chatRef.current && autoscroll && shouldAutoscroll)\r\n      chatRef.current.scrollTop = chatRef.current.scrollHeight;\r\n\r\n  //  chatRef.current.addEventListener('scroll',()=>console.log('scroll'))\r\n\r\n  })\r\n  return (\r\n    <div className=\"hermed-chat\">\r\n      <header>\r\n          Temps d'attente moyen\r\n        <br/>\r\n        <span className=\"average-time\">xx:xx</span>\r\n      </header>\r\n      <section ref={chatRef} className=\"chat\" onTouchStart={holdScroll} onTouchEnd={releaseScroll} onMouseDown={holdScroll} onMouseUp={releaseScroll}>\r\n        <div className=\"welcome\">\r\n            Bienvenu dans la salle d'attente ! {who || 'Le Dr. XXX '} vous contactera via cette application dès que possible. Ne fermez pas cette fenêtre avant la fin de votre RDV. Les messages sont échangés sans intermédiaire. Tous les messages échangés seront automatiquement effacés en fin de conversation.\r\n        </div>\r\n        <div className=\"content\">\r\n          {props.children}\r\n        </div>\r\n      </section>\r\n      <section className=\"tools\">\r\n        <div className=\"toolbar\">\r\n          <button>photo</button>\r\n          <button>file</button>\r\n          <button>voice</button>\r\n        </div>\r\n        <div className=\"text-input\">\r\n          <input type=\"text\" />\r\n        </div>\r\n      </section>\r\n    </div>\r\n  )\r\n}\r\n","'use strict';Object.defineProperty(exports,'__esModule',{value:true});var compositeJs=require('@geekagency/composite-js');/*\nEasy class concat\n*/\n\nconst trim = string => string.trim();\n\nconst notEmptyReducer = (accumulator,item)=> {\n  if(item!==''){\n    accumulator.push(item);\n  }\n\n  return accumulator;\n};\n\nconst remove_empty_items = list => compositeJs.reduce([],notEmptyReducer,list);\n\n// List -> String -> String\nconst assemble = sep => compositeJs.joinList(sep);\n\nconst resolveString = compositeJs.identity;\n\nconst resolveObjectProp =  compositeJs.curry((object,prop) =>object[prop]() ? prop:'');\n\nconst resolveObject = compositeJs.curry((separator,x)=> compositeJs.compose(trim,assemble(separator),remove_empty_items,compositeJs.map(resolveObjectProp(x)),compositeJs.keys)(x));\n\nconst resolveFunction = x => compositeJs._either(compositeJs.is_type_string, x=>'', compositeJs.identity)(x());\n\n// defaultResolver :: String Object => string\nconst conditionalResolver = separator=> compositeJs.compose(\n  compositeJs._either(\n    compositeJs.is_type_function,\n    compositeJs.identity,\n    resolveFunction\n  ),\n  compositeJs._either(\n    compositeJs.is_type_object,\n    compositeJs.identity,\n    resolveObject(separator)\n  ),\n  compositeJs._either(\n    compositeJs.is_type_string,\n    compositeJs.identity,\n    resolveString,\n  )\n);\n\n// List -> String\nconst listResolver = compositeJs.curry((separator,resolver) => compositeJs.compose(\n  trim,\n  assemble(separator),\n  remove_empty_items,\n  compositeJs.map(resolver)\n));\n\n// MakeCex :: String -> Resolver -> List -> String\nconst MakeCex = compositeJs.curry((separator, resolve ) => listResolver(separator,resolve));\n\nconst uEx = MakeCex('/',conditionalResolver('/'));\nconst cEx = MakeCex(' ',conditionalResolver(' '));exports.cEx=cEx;exports.uEx=uEx;","import React from 'react'\nimport {cEx} from '@geekagency/gen-classes'\n\n\nexport default props => {\n  const {className,contained,text,outlined, ...rest} = props\n  return (\n    <button className={\n        cEx([\n          \"button\",\n          _=> (!contained&&!text && !outlined ) ? \"contained\": \"\",\n          {\n            'contained':_=>contained,\n            'text':_=>text,\n            'outlined':_=>outlined,\n          }\n        ])\n      } {...rest}>{props.children}</button>\n  )\n}\n","\r\nimport React from 'react'\r\nimport Button from '../Button'\r\n\r\nexport default props => {\r\n  const {who} = props;\r\n\r\n  return (\r\n    <div className=\"customer-landing-page flex flex-column just-between\">\r\n      <header className=\"\">\r\n      </header>\r\n      <section className=\"flex flex-column align-center content-container\">\r\n        <h1>Bienvenue</h1>\r\n        <p>\r\n          {props.who || 'Le Dr. XXX' } vous invite à rejoindre sa salle d'attente pour une consultation à distance. Lorsque vous êtes prêts, cliquez sur le bouton ci-dessous pour la rejoindre.\r\n        </p>\r\n        <Button onClick={_=> props.handleClick()}>JE SUIS PRÊT !</Button>\r\n      </section>\r\n\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport {cEx} from '@geekagency/gen-classes'\r\n\r\nexport default props => {\r\n  const {message,date,right} = props;\r\n\r\n  const classes = cEx ([\r\n    'chat-bubble',\r\n    {\r\n      'right':_=>right===true,\r\n      'left':_=>right!==true,\r\n    }\r\n\r\n  ])\r\n  return (\r\n    <div className={classes}>\r\n      <div className=\"message\">{message || 'Le lorem ipsum est, en imprimerie, une suite de mots sans signification utilisée à titre provisoire pour calibrer une mise en page, le texte définitif venant remplacer le fau'}</div>\r\n      <div className=\"date\">{date || '11:20'}</div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\n\r\nexport default props => {\r\n\r\n  return (\r\n\r\n    <div className=\"waiting-room\">\r\n\r\n      <header>Votre salle d'attente</header>\r\n      <section className=\"content\">\r\n        {props.children}\r\n      </section>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport {cEx} from '@geekagency/gen-classes'\r\n\r\n\r\nexport default props => {\r\n  const {status} = props;\r\n\r\n\r\n  return (\r\n    <div className=\"patient-item\">\r\n      <div className={\r\n          cEx([\r\n            'status',\r\n            _=> status || 'unkown'\r\n          ])\r\n        }></div>\r\n      <div className=\"coord\">\r\n        <div className=\"name\">Fabien Karsegard</div>\r\n        <div className=\"phone\">+41 79 000 00 00</div>\r\n        <div className=\"email\">fabien@karsegard.ch</div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport {cEx} from '@geekagency/gen-classes'\r\n\r\nconst defaultSubmit = e=>{\r\n  console.warn('you didnt set onSubmit')\r\n  e.preventDefault()\r\n}\r\n\r\nexport default props => {\r\n  const {className, onSubmit,...rest} = props\r\n\r\n\r\n  const _onSubmit  = onSubmit || defaultSubmit\r\n  return (\r\n    <form className={\r\n        cEx([\r\n          \"basic-form\",\r\n          _=> className,\r\n        ])\r\n      } onSubmit={_onSubmit} {...rest}>\r\n      {props.children}\r\n    </form>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport {cEx} from '@geekagency/gen-classes'\r\n\r\n\r\nexport default props => {\r\n  const {label, id,className, type, ...rest} = props\r\n  return (\r\n    <div className=\"single-input flex flex-column\">\r\n      <label htmlFor={id}>{label}</label>\r\n      <input className={\r\n          cEx([\r\n            \"input\",\r\n            _=> className\r\n          ])\r\n        } id={id} type=\"text\" {...rest}/>\r\n    </div>\r\n  )\r\n}\r\n"],"names":["props","who","autoscroll","useState","shouldAutoscroll","setShouldAutoscroll","chatRef","useRef","holdScroll","releaseScroll","useEffect","current","scrollTop","scrollHeight","React","children","Object","defineProperty","exports","value","trim","string","notEmptyReducer","accumulator","item","push","remove_empty_items","list","compositeJs","reduce","assemble","sep","joinList","resolveString","identity","resolveObjectProp","curry","object","prop","resolveObject","separator","x","compose","map","keys","resolveFunction","_either","is_type_string","conditionalResolver","is_type_function","is_type_object","listResolver","resolver","MakeCex","resolve","uEx","cEx","className","contained","text","outlined","rest","_","handleClick","message","date","right","classes","status","defaultSubmit","e","console","warn","preventDefault","onSubmit","_onSubmit","label","id","type"],"mappings":"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"}